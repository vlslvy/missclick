<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Музыка с фото</title>
  <style>
    body {
      background-color: #f0f0f0;
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
    }

    button {
      padding: 15px 30px;
      font-size: 18px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: all 0.3s;
      z-index: 100;
    }

    button:hover {
      background-color: #45a049;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }

    .photo {
      position: absolute;
      max-width: 200px;
      max-height: 200px;
      object-fit: contain;
      animation: fadeIn 0.5s, float 5s infinite ease-in-out;
      z-index: 10;
      pointer-events: none;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.5); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <button onclick="startShow()">Запустить шоу</button>
  
  <audio id="music" class="hidden">
    <source src="music.mp3" type="audio/mpeg">
    Ваш браузер не поддерживает аудио элемент.
  </audio>

  <script>
    // Массив с путями к JPG изображениям
    const photos = [
      'photo1.jpg',
      'photo2.jpg',
      'photo3.jpg',
      'photo4.jpg',
      'photo5.jpg'
    ];

    function startShow() {
      const button = document.querySelector('button');
      button.disabled = true;
      button.textContent = 'Идёт шоу...';
      
      // Воспроизводим музыку
      const music = document.getElementById('music');
      music.volume = 0.7;
      music.play().catch(e => console.log("Не удалось воспроизвести музыку:", e));
      
      // Показываем фото в случайных местах
      showPhotos();
      
      // Через 30 секунд останавливаем шоу
      setTimeout(() => {
        stopShow();
      }, 30000);
    }

    function showPhotos() {
      // Создаем 5-6 фото
      const photoCount = Math.floor(Math.random() * 2) + 5;
      
      for (let i = 0; i < photoCount; i++) {
        setTimeout(() => {
          const img = document.createElement('img');
          img.src = photos[Math.floor(Math.random() * photos.length)];
          img.className = 'photo';
          
          // Позиционируем случайным образом
          img.style.left = ${Math.random() * (window.innerWidth - 200)}px;
          img.style.top = ${Math.random() * (window.innerHeight - 200)}px;
          
          // Случайный размер
          const size = 100 + Math.random() * 100;
          img.style.width = ${size}px;
          
          document.body.appendChild(img);
          
          // Удаляем фото через 5-10 секунд
          setTimeout(() => {
            img.remove();
          }, 5000 + Math.random() * 5000);
          
        }, i * 1000); // Задержка между появлением фото
      }
    }

    function stopShow() {
      const music = document.getElementById('music');
      music.pause();
      music.currentTime = 0;
      
      const button = document.querySelector('button');
      button.disabled = false;
      button.textContent = 'Запустить шоу снова';
      
      // Удаляем все фото
      document.querySelectorAll('.photo').forEach(photo => {
        photo.remove();
      });
    }

    // Остановка при нажатии ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        stopShow();
      }
    });
  </script>

</body>
</html>